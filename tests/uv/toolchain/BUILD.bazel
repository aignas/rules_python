load("//python:py_test.bzl", "py_test")

genrule(
    name = "uv_help",
    outs = ["uv_help.txt"],
    cmd = "$(UV_BIN) --python-fetch manual --help >$@",
    toolchains = ["//python/uv:current_toolchain"],
)

py_test(
    name = "uv_help_test",
    srcs = ["uv_help_test.py"],
    data = [":uv_help"],
    env = {"DATA": "$(rlocationpath :uv_help)"},
    deps = ["//python/runfiles"],
)
